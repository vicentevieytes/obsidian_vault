
## Introducción
Harbor es un servicio de hosting de imágenes docker, el cual se usa de manera interna para manejar las imágenes utilizadas para el deployment de las aplicaciones del área de movilidad de Teknos.

Se realizó un relevamiento de vulnerabilidades con un usuario autenticado pero sin acceso a ningún repositorio de imágenes. Por un lado se revisó la versión del servicio y se buscaron CVEs reportades, y por el otro se corrió un esceno en profundidad utilizando BurpSuite. 

**No se encontraron vulnerabilidades en este test de penetración.**

## Versión de Harbor

La instancia de Harbor interna de Teknos se encuentra en la versión 2.6.0, mientras que la última versión estable oficial es la 2.7.4.

Se encontró una única vulnerabilidad reportada para esta versión en el [security advisory de harbor](https://github.com/goharbor/harbor/security/advisories/GHSA-mq6f-5xh5-hgcf), pero en la descripción de la vulnerabilidad se aclara que los que la reportaron no consiguieron explotarla y que sería muy complicado

## Burp Scan

Se realizaron escaneos de la aplicación utilizando BurpSuite. Estos reportaron issues similiares a los que ya se vieron por ejemplo en gogs.teknsgroup.com.

Entre estos aparecen tres issues tentativos de severidad crítica, dos instancias de Client-side desync y una de NoSQL/SSJi. Los payloads utilizados en el scan fueron probados manualmente y no se consiguió replicar ningún comportamiento que indicaría que la vulnerabilidad sea verdadera, por lo que se consideran falsos positivos. 

El resto de los issues son informativos o de poca relevancia pero se pueden examinar en detalle en el informe ``harbor_issues_filtered.pdf``.

![[Pasted image 20231202200847.png]]

![[Pasted image 20231202200909.png]]

![[Pasted image 20231212171249.png]]